class s{constructor(){this.audioContext=null,this.isInitialized=!1,this.initMessage=document.getElementById("app-init-message")}async init(){this.showInitMessage();try{await this.requestAudioPermissions(),await this.initializeAudioContext(),this.isInitialized=!0}catch(i){console.error("Initialization error:",i)}finally{setTimeout(()=>{this.hideInitMessage()},1e3)}}showInitMessage(){this.initMessage&&(this.initMessage.style.display="flex")}hideInitMessage(){this.initMessage&&(this.initMessage.style.display="none")}async requestAudioPermissions(){try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(t=>t.stop()),!0}catch(i){return console.warn("Audio permission denied:",i),!1}}async initializeAudioContext(){try{return this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.state==="suspended"&&await this.audioContext.resume(),!0}catch(i){return console.error("Audio context initialization failed:",i),!1}}getAudioContext(){return this.audioContext}}export{s as A};
